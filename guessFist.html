<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        /*body{overflow: hidden;}*/
        div{
            box-sizing: border-box;
        }
    </style>
    <script src="jquery-1.9.1.min.js"></script>
    <script src="guessFistStyle.js"></script>
    <script>
        window.onload=function(){
            var scoreNum=0;
            var randomNum=0;
            var inputTimes=0;
            var times=0;

            var arr=[1,2,3];

            var documentWidth=document.documentElement.clientWidth||document.body.clientWidth;
            var documentHeight=document.documentElement.clientHeight||document.body.clientHeight;
            var fists=$("#selectFist div").eq(0).nextAll("div");
            var myViewImg=$("#myView div").eq(1).children("img");
            var computerViewImg=$("#computerView div").eq(1).children("img");

            function computerRandom(index){ //电脑随机出招 函数
                randomNum=Math.floor(Math.random()*3);
                computerViewImg.attr("src","images/"+arr[randomNum]+".png");
                increaseAnddecrease(index,randomNum)
            }
            function increaseAnddecrease(mine,computer){
                console.log(mine);
                console.log(computer);
                if((mine==0&&computer==2)||(mine==1&&computer==0)||(mine==2&&computer==1)){
                    scoreNum++;

                }else if((mine==2&&computer==0)||(mine==0&&computer==1)||(mine==1&&computer==2)){
                    scoreNum--;
                }
            }
            //点击出拳
            function beginGame(){
                fists.each(function(index){
                    fists.eq(index).on("click",function(){
                        times++;
                        myViewImg.attr("src",$(this).children("img").attr("src"));
                        computerRandom(index);
                        if(times==inputTimes){
                            if(scoreNum>0){
                                alert("you win");
                            }else if(scoreNum==0){alert("draw");}else{
                                alert("you lose");
                            }
                            times=0;
                            scoreNum=0;
                        }

                        $("#score").html("score:"+scoreNum+"");
                        $("#times").html("times:"+times+"");
                    });
                });
            }


            if(documentWidth>documentHeight){ //横屏状态

                //调用样式
                horizontal(documentWidth,documentHeight);
                $("#timesButton").on("click",function(){
                    inputTimes=$("#timesText").val();
                    var parseInputTimes=parseInt(inputTimes);
                    if(Number.isInteger(parseInputTimes)){beginGame();}
                })


            }
            if(documentWidth<documentHeight){ //竖屏状态
                vertical(documentWidth,documentHeight);
                $("#timesButton").on("click",function(){
                    inputTimes=$("#timesText").val();
                    var parseInputTimes=parseInt(inputTimes);
                    if(Number.isInteger(parseInputTimes)){beginGame();}
                })
            }


        }
    </script>
</head>
<body>
<div id="main">
    <p>请输入次数：<input id="timesText" type="text"><button id="timesButton">开始</button></p>
    <div id="score">score:0</div>
    <div id="times">times:0</div>
    <div id="selectFist">
        <div>请出拳</div>
        <div><img src="images/1.png"></div>
        <div><img src="images/2.png"></div>
        <div><img src="images/3.png"></div>
    </div>
    <div id="box">

        <div id="myView"><div>我方出拳</div><div><img src="images/1.gif"></div></div>
        <div id="vs"><img src="images/2.gif"></div>
        <div id="computerView"><div>电脑出拳</div><div><img src="images/1.gif"></div></div>
    </div>
</div>
</body>
</html>